To simulate waveform:
https://www.edaplayground.com/x/pG5k
